!function(){"use strict";function e(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}var t=function(t){return function(){var r=this,n=arguments;return new Promise((function(a,i){var o=t.apply(r,n);function s(t){e(o,a,i,s,c,"next",t)}function c(t){e(o,a,i,s,c,"throw",t)}s(void 0)}))}};var r=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e};function n(){try{return new Date(document.head.querySelector("meta[http-equiv=last-modified]").content).getTime()}catch(e){try{return new Date(document.lastModified).getTime()}catch(e){return(new Date).getTime()}}}class a{constructor(e){this.name=e}open(){var e=this;return t((function*(){e.cache=yield caches.open(e.name)}))()}addUrlToCache(e){var r=this;return t((function*(){var t=yield fetch(e),n=yield t.text();return yield r.addResourceToCache(e,n),new Response(n)}))()}getFromCache(e){var r=arguments,a=this;return t((function*(){var t=r.length>1&&void 0!==r[1]?r[1]:n();a.cache||(yield a.open());var i=yield a.cache.match(e);return i&&i.headers.get("cached-on")>t.toString()?i:null}))()}getCachedOrLiveURL(e){var r=arguments,a=this;return t((function*(){var t=r.length>1&&void 0!==r[1]?r[1]:n(),i=yield a.getFromCache(e,t);return i?(console.log("Loaded from cache",e),i):yield a.addUrlToCache(e,t)}))()}addResourceToCache(e,r){var n=this;return t((function*(){n.cache||(yield n.open());var t=new Headers;t.append("cached-on",(new Date).getTime().toString()),yield n.cache.put(e,new Response(r,{headers:t}))}))()}}var i=new a("pagination");class o{get hasNext(){return this.currentPage<this.pages.length-1}get hasPrevious(){return this.currentPage>0}constructor(e){r(this,"currentPage",0),r(this,"itemsWrapper",void 0),r(this,"pages",[]),r(this,"prevPageButton",void 0),r(this,"nextPageButton",void 0),r(this,"pageCount",void 0),this.paginationEl=e,this.itemsWrapper=e.closest(".w-dyn-list").querySelector(".w-dyn-items"),this.pageCount=this.paginationEl.querySelector(".w-page-count"),this.pages=[],this.pages.push(this.itemsWrapper.innerHTML),this.itemsWrapper.querySelectorAll("template").forEach((e=>{e.content.innerHTML?this.pages.push(e.content.innerHTML):this.pages.push({url:e.dataset.paginationUrl}),e.remove()})),this.pageCount&&(this.pageCount.textContent="1 / "+this.pages.length),this.preloadNextPage(),this.prevPageButton=e.querySelector(".w-pagination-previous"),this.nextPageButton=e.querySelector(".w-pagination-next"),this.prevPageButton.addEventListener("click",(e=>{e.preventDefault(),this.goPage(this.currentPage-1)})),this.nextPageButton.addEventListener("click",(e=>{e.preventDefault(),this.goPage(this.currentPage+1)}))}preloadNextPage(){var e=this;return t((function*(){var t=e.currentPage+1;e.pages[t]&&"object"==typeof e.pages[t]&&(e.pages[t]=yield e.loadUrlData(e.pages[t].url))}))()}goPage(e){this.pages[e]&&(document.body.dispatchEvent(new CustomEvent("pagination-start",{bubbles:!0})),this.itemsWrapper.classList.add("loading"),this.currentPage=e,"string"==typeof this.pages[this.currentPage]?(this.itemsWrapper.innerHTML=this.pages[this.currentPage],window.Webflow&&window.Webflow.require("ix2")&&window.Webflow.require("ix2").init(),this.reloadPagination(),document.body.dispatchEvent(new CustomEvent("pagination-end",{bubbles:!0})),this.itemsWrapper.classList.remove("loading")):this.loadPage(this.pages[this.currentPage]),this.preloadNextPage(),this.pageCount&&(this.pageCount.textContent=this.currentPage+1+" / "+this.pages.length))}loadUrlData(e){return t((function*(){e.includes("/public")&&(e=e.replace("/public",""));var t=yield i.getCachedOrLiveURL(e);return yield t.text()}))()}loadPage(e){var r=this;return t((function*(){r.pages[r.currentPage]=yield r.loadUrlData(e.url),r.goPage(r.currentPage)}))()}reloadPagination(){this.hasPrevious?this.prevPageButton.style.display="":this.prevPageButton.style.display="none",this.hasNext?this.nextPageButton.style.display="":this.nextPageButton.style.display="none",document.body.dispatchEvent(new CustomEvent("pagination-change",{bubbles:!0}))}}function s(){return(s=t((function*(){var e=new a("search");return yield e.getCachedOrLiveURL("/_data/search-index.json")}))).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}class u{constructor(e){var r=this;this.form=e,this.contentType=e.dataset.contentType||"application/json",this.success=this.form.parentElement.querySelector(".w-form-done"),this.error=this.form.parentElement.querySelector(".w-form-fail"),this.form.addEventListener("submit",function(){var e=t((function*(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),yield r.handleSubmit()}));return function(t){return e.apply(this,arguments)}}())}handleSubmit(){var e=this;return t((function*(){switch(e.contentType){case"application/x-www-form-urlencoded":yield e.sendAsUrlEncoded();break;default:yield e.sendAsJSON()}}))()}sendAsUrlEncoded(){var e=this;return t((function*(){yield e.sendForm({body:new URLSearchParams(new FormData(e.form)).toString()})}))()}sendAsJSON(){var e=this;return t((function*(){var t=Object.fromEntries(new FormData(e.form).entries());yield e.sendForm({body:JSON.stringify(t)})}))()}sendForm(e){var n=this;return t((function*(){n.error.style.display="none",n.form.querySelectorAll('[type="submit"]').forEach((e=>{e.dataset.value||(e.dataset.value=e.value),e.value=e.dataset.wait}));try{(yield fetch(n.form.action,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({method:"POST",headers:{"Content-Type":n.contentType}},e))).ok?(n.form.style.display="none",n.success.style.display="inherit",n.form.dataset.redirect&&setTimeout((()=>{window.location=n.form.dataset.redirect}))):n.error.style.display="block",n.form.querySelectorAll('[type="submit"]').forEach((e=>{e.value=e.dataset.value}))}catch(e){n.error.style.display="block",n.form.querySelectorAll('[type="submit"]').forEach((e=>{e.value=e.dataset.value}))}}))()}}document.querySelectorAll('[href="'+window.location.pathname+'"], [href="'+window.location.pathname.slice(0,-1)+'"]').forEach((function(e){e.classList.add("w--current")})),document.querySelectorAll(".w-pagination-wrapper").forEach((e=>{new o(e)})),document.querySelectorAll("form").forEach((e=>{"true"===e.dataset.ajax&&new u(e)})),"/search/"!==window.location.pathname&&function(){return s.apply(this,arguments)}().then((()=>console.log("Search System Enabled")))}();
